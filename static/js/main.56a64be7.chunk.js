(this.webpackJsonpschematic=this.webpackJsonpschematic||[]).push([[0],{10:function(e,t,n){e.exports={wrapper:"App_wrapper__1Jn2B",title:"App_title__2C-7r",gamesTitle:"App_gamesTitle__zqWFJ",removeButton:"App_removeButton__1M5gF"}},15:function(e,t,n){e.exports={title:"SchemaErrors_title__DGpx-"}},2:function(e,t,n){e.exports={app:"Emulator_app__T00XQ",panel:"Emulator_panel__NbdHB",button:"Emulator_button__3x9P5",canvasWrapper:"Emulator_canvasWrapper__1jUgz",canvas:"Emulator_canvas__18vZ6",canvasScale:"Emulator_canvasScale__1gfv0",info:"Emulator_info__XN-lN",divider:"Emulator_divider__1O1xo",space:"Emulator_space__3sZL6",yes:"Emulator_yes__2HVG8",no:"Emulator_no__3K5j9"}},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(13),c=n.n(o),i=(n(20),n(9)),s=n(5);function l(e,t){var n=Object(r.useRef)(!1);Object(r.useEffect)((function(){n.current?e():n.current=!0}),t)}function u(e){var t=function(e){var t=Object(r.useRef)(e);return t.current=e,t}(e);return Object(r.useCallback)((function(){return t.current.apply(t,arguments)}),[])}function p(e,t){var n=u(t);Object(r.useEffect)((function(){return window.addEventListener(e,n,!1),function(){window.removeEventListener(e,n,!1)}}),[e,n])}var d,f,v=n(12),h=n(4),x=n(3),O=n(14),b=n.n(O);function j(e){return Object(r.useRef)(e).current}!function(e){e.PNP="pnp",e.NPN="npn",e.POWER="power",e.GROUND="ground",e.INPUT="input",e.OUTPUT="output",e.DOT="dot"}(d||(d={}));var y=(f={},Object(h.a)(f,d.PNP,{pins:[{pos:{x:.47,y:.94}},{pos:{x:-.07,y:.32}},{pos:{x:1.05,y:.32}}]}),Object(h.a)(f,d.NPN,{pins:[{pos:{x:.47,y:1}},{pos:{x:-.07,y:.33}},{pos:{x:1.05,y:.32}}]}),Object(h.a)(f,d.POWER,{pins:[{pos:{x:.52,y:.8}}]}),Object(h.a)(f,d.GROUND,{pins:[{pos:{x:.46,y:.15}}]}),Object(h.a)(f,d.INPUT,{pins:[{pos:{x:.5,y:.8}}]}),Object(h.a)(f,d.OUTPUT,{pins:[{pos:{x:.2,y:.5}}]}),Object(h.a)(f,d.DOT,{pins:[{pos:{x:.5,y:.5}}]}),f),m="ABCDEFGHIJ",g="YZXWVUTSRQ";function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.indexOf(t),a=t.type===d.INPUT?m:g;return!n&&e.length<=a.length?a.charAt(r):t.type===d.INPUT?"I".concat(r):"Y".concat(r)}var E=n(6),I=n.n(E),T=n(0);function w(e){var t=e.elements,n=e.options,a=e.onOptionsChange,o=Object(r.useMemo)((function(){var e=t.filter((function(e){return e.type===d.INPUT})),r=t.filter((function(e){return e.type===d.OUTPUT})),a=e,o=r;return n.isInputVector&&(a=Object(i.a)(e).reverse()),n.isOutputVector&&(o=Object(i.a)(r).reverse()),{inputs:e,outputs:r,renderInputs:a,renderOutputs:o}}),[t,t.length,n.isInputVector,n.isOutputVector]),c=o.inputs,s=o.outputs,l=o.renderInputs,u=o.renderOutputs;return Object(T.jsxs)("div",{className:I.a.wrapper,children:[Object(T.jsxs)("div",{className:I.a.options,children:[Object(T.jsxs)("label",{className:I.a.option,children:[Object(T.jsx)("input",{type:"checkbox",checked:n.isInputVector,onChange:function(e){a({isInputVector:e.target.checked})}})," ","Treat input as vector"]}),Object(T.jsxs)("label",{className:I.a.option,children:[Object(T.jsx)("input",{type:"checkbox",checked:n.isOutputVector,onChange:function(e){a({isOutputVector:e.target.checked})}})," ","Treat output as vector"]})]}),Object(T.jsxs)("table",{className:I.a.table,children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[l.map((function(e,t){return Object(T.jsx)("th",{className:I.a.tableCell,children:N(c,e,n.isInputVector)},t)})),u.map((function(e,t){return Object(T.jsx)("th",{className:I.a.tableCell,children:N(s,e,n.isOutputVector)},t)}))]})}),Object(T.jsx)("tbody",{children:Array.from({length:Math.pow(2,c.length)}).map((function(e,t){return Object(T.jsxs)("tr",{children:[l.map((function(e,n){return Object(T.jsx)("td",{children:Math.floor(t/Math.pow(2,c.length-n-1))%2},n)})),u.map((function(e,t){return Object(T.jsx)("td",{children:"Z"},t)}))]},t)}))})]})]})}var P=n(15),_=n.n(P);function M(e){var t,n=e.state,r=[],a=Object(x.a)(n.elements);try{for(a.s();!(t=a.n()).done;){var o,c=t.value,i=y[c.type].pins.map((function(){return!1})),s=Object(x.a)(n.connections);try{for(s.s();!(o=s.n()).done;){var l,u=o.value,p=Object(x.a)(u);try{for(p.s();!(l=p.n()).done;){var d=l.value;d.elId===c.id&&(i[d.pinIndex]=!0)}}catch(f){p.e(f)}finally{p.f()}}}catch(f){s.e(f)}finally{s.f()}i.some((function(e){return!e}))&&r.push("Floating pins on node ".concat(c.type))}}catch(f){a.e(f)}finally{a.f()}return r.length?Object(T.jsxs)("div",{children:[Object(T.jsx)("h2",{className:_.a.title,children:"Errors:"}),r.map((function(e,t){return Object(T.jsx)("div",{children:e},t)}))]}):null}var C,D,k=n(2),L=n.n(k),S=48,U=52;function R(e,t){return{x:e.x-t.x,y:e.y-t.y}}function V(e,t){var n=Math.sin(t),r=Math.cos(t);return{x:e.x*r-e.y*n,y:e.x*n+e.y*r}}function W(e){var t=e.elements[e.elements.length-1];if(!t)return"el1";var n=t.id.match(/^el(\d+)$/);if(!n)throw new Error;return"el".concat(parseInt(n[1],10)+1)}function A(e){return e?Object(T.jsx)("span",{className:L.a.yes,children:"yes"}):Object(T.jsx)("span",{className:L.a.no,children:"no"})}function G(e){var t,n,a=e.gameId,o=Object(r.useRef)(null),c=Object(r.useRef)(null),i=function(){var e=Object(r.useRef)(0),t=Object(r.useState)(e.current),n=Object(s.a)(t,2)[1];return Object(r.useCallback)((function(){e.current+=1,n(e.current)}),[])}(),f=Object(r.useState)(),O=Object(s.a)(f,2),m=O[0],g=O[1],E=Object(r.useState)({isInputVector:!1,isOutputVector:!1}),I=Object(s.a)(E,2),P=I[0],_=I[1],k=j({factor:null!==(t=window.devicePixelRatio)&&void 0!==t?t:1}),G=j({width:0,height:0}),B=j({x:0,y:0}),J=j({x1:{images:{},status:C.NONE},x2:{images:{},status:C.NONE}}),X=j({x:0,y:0}),H=j({target:void 0}),Y=j({target:void 0}),Z=j({target:void 0}),z=j({source:void 0}),F=j({elements:[],connections:[]}),$=j({isMouseDown:!1}),q=j({isPan:!1});function Q(e){var t=e.x,n=e.y;return{x:t-G.width/2-B.x,y:n-G.height/2-B.y}}function K(){B.x=0,B.y=0,F.elements=[],F.connections=[],H.target=void 0,Y.target=void 0,Z.target=void 0,z.source=void 0,q.isPan=!1,$.isMouseDown=!1}var ee=u((function(){var e=localStorage.getItem("sch_game_".concat(a));if(e){var t=JSON.parse(e),r=t.pos,o=t.elements,c=t.connections,i=t.options;K(),B.x=r.x,B.y=r.y,F.elements=o,F.connections=c,_(i),window.setTimeout(n,0)}}));Object(r.useEffect)((function(){ee();var e=window.setInterval(i,500);return function(){window.clearInterval(e)}}),[]);var te=u((function(e){var t=F.elements.find((function(t){return t.id===e}));if(!t)throw new Error("Element not found");return t}));function ne(e){var t=e.elId,n=e.pinIndex,r=te(t),a=y[r.type].pins[n];return{x:r.pos.x+(a.pos.x-.5)*S,y:r.pos.y+(a.pos.y-.5)*S}}function re(){var e,t=null!==(e=window.devicePixelRatio)&&void 0!==e?e:1;k.factor!==t&&(k.factor=t,i())}function ae(){var e=c.current,t=o.current;if(!e||!t)throw new Error;G.width===e.clientWidth&&G.height===e.clientHeight||(G.width=e.clientWidth,G.height=e.clientHeight,t.width=G.width*k.factor,t.height=G.height*k.factor,n())}function oe(e){var t,n=Object(x.a)(F.elements);try{for(n.s();!(t=n.n()).done;){var r=t.value.pos;if(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2)<Math.pow(24,2))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}function ce(e){for(var t=Q({x:G.width/2,y:G.height/2});oe(t);)t.x+=68;F.elements.push({type:e,id:W(F),pos:t}),n()}function ie(){var e=k.factor>1.5,t=J[e?"x1":"x2"];if(t.status===C.NONE){var r=[d.PNP,d.NPN,d.POWER,d.GROUND],a=r.length;t.status=C.LOADING;for(var o=function(){var n=i[c],r=new Image;r.src="assets/".concat(n).concat(e?"@2x":"",".png"),r.addEventListener("load",(function(){t.images[n]=r,s()})),r.addEventListener("error",s)},c=0,i=r;c<i.length;c++)o()}function s(){0===(a-=1)&&(t.status=C.DONE,n())}}function se(e){var t=e.elId,n=e.pinIndex;Y.target={type:D.ELEMENT,elId:t},z.source={elId:t,pinIndex:n}}n=u((function(){if(0!==G.width){var e=function(e){if(!e)throw new Error;var t=e.getContext("2d");if(!t)throw new Error;return t}(o.current);re();var t=k.factor,n=H.target;e.save(),e.clearRect(0,0,G.width*t,G.height*t),1!==t&&e.scale(t,t),e.translate(Math.floor(G.width/2)+B.x,Math.floor(G.height/2)+B.y),e.save(),e.lineWidth=1,e.textBaseline="middle",e.textAlign="center",e.font="15px sans-serif",e.fillStyle="#333",e.beginPath(),e.moveTo(0,0),e.lineTo(100,0),e.moveTo(95,-5),e.lineTo(100,0),e.moveTo(95,5),e.lineTo(100,0),e.strokeStyle="#0f0",e.stroke(),e.fillText("X",90,15),e.beginPath(),e.moveTo(0,0),e.lineTo(0,100),e.moveTo(-5,95),e.lineTo(0,100),e.moveTo(5,95),e.lineTo(0,100),e.strokeStyle="#00f",e.stroke(),e.fillText("Y",12,90),e.restore();var r,a=Object(x.a)(F.elements);try{for(a.s();!(r=a.n()).done;){var c=r.value,i=c.pos;n&&n.type===D.ELEMENT&&c.id===n.elId?(e.save(),e.strokeStyle="#ddf",e.lineWidth=3,e.strokeRect(i.x-26,i.y-26,U,U),e.restore()):Y.target&&Y.target.type===D.ELEMENT&&Y.target.elId===c.id&&(e.save(),e.strokeStyle="#ededf3",e.lineWidth=2,e.strokeRect(i.x-26,i.y-26,U,U),e.restore())}}catch(ae){a.e(ae)}finally{a.f()}var l,u=0,p=Object(x.a)(F.connections);try{for(p.s();!(l=p.n()).done;){var f=Object(s.a)(l.value,2),v=f[0],h=f[1],O=te(v.elId),b=te(h.elId),j=y[O.type].pins[v.pinIndex],E=y[b.type].pins[h.pinIndex];e.save(),e.beginPath(),e.moveTo(O.pos.x-24+j.pos.x*S,O.pos.y-24+j.pos.y*S),e.lineTo(b.pos.x-24+E.pos.x*S,b.pos.y-24+E.pos.y*S);var I=n&&n.type===D.CONNECTION&&n.connectionIndex===u,T=Y.target&&Y.target.type===D.CONNECTION&&Y.target.connectionIndex===u;e.lineWidth=I||T?3:1,e.strokeStyle=T?"#00f":"#333",e.stroke(),e.restore(),u+=1}}catch(ae){p.e(ae)}finally{p.f()}if(z.source){var w=z.source,_=w.elId,M=w.pinIndex,C=te(_),L=y[C.type].pins[M].pos,R=L.x*S+C.pos.x-24,V=L.y*S+C.pos.y-24,W=Q(X),A=W.x,Z=W.y;e.save(),e.beginPath(),e.moveTo(R,V),e.lineTo(A,Z),e.strokeStyle="#888",e.stroke(),e.restore()}var $,K,ee=Object(x.a)(F.elements);try{var ne=function(){var r=$.value,a=r.type,o=r.pos;if(a===d.INPUT||a===d.OUTPUT){var c=N(F.elements.filter((function(e){return e.type===a})),r,a===d.INPUT?P.isInputVector:P.isOutputVector);e.save(),e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",a===d.INPUT?e.fillText(c,o.x,o.y-10):e.fillText(c,o.x+6,o.y),e.restore()}else{var i,l=t>1.5?["x2","x1"]:["x1","x2"],u=Object(s.a)(l,2),p=u[0],f=u[1],v=null!==(i=J[p].images[a])&&void 0!==i?i:J[f].images[a];if(v){var h=o.x-24,O=o.y-24;e.drawImage(v,h,O,S,S)}}var b,j=y[a].pins,m=0,g=Object(x.a)(j);try{for(g.s();!(b=g.n()).done;){var E=b.value,I=n&&n.type===D.ELEMENT&&n.elId===r.id&&n.activePin&&n.activePin.index===m,T=z.source&&z.source.elId===r.id&&z.source.pinIndex===m;e.beginPath(),e.arc(o.x+(E.pos.x-.5)*S,o.y+(E.pos.y-.5)*S,I?6:5,0,2*Math.PI),e.closePath(),I||T?(e.save(),e.fillStyle=T?"#d66":"#66d",e.fill(),e.restore()):(e.save(),e.fillStyle="#fff",e.fill(),e.strokeStyle="#448",e.lineWidth=2,e.stroke(),e.restore()),m+=1}}catch(ae){g.e(ae)}finally{g.f()}};for(ee.s();!($=ee.n()).done;)ne()}catch(ae){ee.e(ae)}finally{ee.f()}e.restore(),z.source?K="pointer":n&&(n.type===D.CONNECTION?K="move":n.type===D.ELEMENT?K=n.activePin?"pointer":"move":q.isPan&&(K="grabbing")),K!==m&&g(K)}})),Object(r.useEffect)((function(){ae(),ie()}),[]),l(ie,[k.factor]),p("resize",(function(){setTimeout((function(){re(),ae()}),0)})),l(n,[P]);var le=u((function(e){if(!e||(e.preventDefault(),0===e.button)){var t=!1;if($.isMouseDown=!1,!Y.target||Y.target.type!==D.ELEMENT||z.source||Z.target||(Y.target=void 0,t=!0),Z.target&&(Z.target=void 0,t=!0),q.isPan&&(q.isPan=!1,t=!0),z.source){var r=H.target;r&&r.type===D.ELEMENT&&r.activePin&&z.source.elId!==r.elId&&F.connections.push([{elId:r.elId,pinIndex:r.activePin.index},{elId:z.source.elId,pinIndex:z.source.pinIndex}]),z.source=void 0,t=!0}else if(!z.source){var a=H.target;a&&a.type===D.ELEMENT&&a.activePin&&(se({elId:a.elId,pinIndex:a.activePin.index}),t=!0),a&&(a.type!==D.ELEMENT||a.activePin?a.type===D.CONNECTION&&(Y.target&&Y.target.type===D.CONNECTION&&Y.target.connectionIndex===a.connectionIndex||(Y.target={type:D.CONNECTION,connectionIndex:a.connectionIndex},t=!0)):Y.target&&Y.target.type===D.ELEMENT&&Y.target.elId===a.elId||(Y.target={type:D.ELEMENT,elId:a.elId},t=!0))}t&&n()}}));return Object(T.jsxs)("main",{className:L.a.app,children:[Object(T.jsx)("div",{ref:c,className:L.a.canvasWrapper,children:Object(T.jsx)("canvas",{ref:o,className:b()(L.a.canvas,Object(h.a)({},L.a.canvasScale,1!==k.factor)),width:0,height:0,style:{"--factor":1/k.factor,cursor:m},onClick:function(e){e.preventDefault()},onMouseDown:function(e){e.preventDefault(),0===e.button&&($.isMouseDown&&le(),$.isMouseDown=!0)},onMouseMove:function(e){X.x=e.clientX,X.y=e.clientY;var t=!1;(function(){var e,t=Q(X),n=t.x,r=t.y,a=H.target,o=!1,c=!1,i=!1,l=Object(x.a)(F.elements);try{for(l.s();!(e=l.n()).done;){var u,p=e.value,d=y[p.type].pins,f=p.pos.x-24,v=p.pos.y-24,h=Object(x.a)(d);try{for(h.s();!(u=h.n()).done;){var O=u.value;if(Math.pow(f+O.pos.x*S-n,2)+Math.pow(v+O.pos.y*S-r,2)<Math.pow(9,2)){var b,j=d.indexOf(O);a&&a.type===D.ELEMENT&&a.elId===p.id&&(null===(b=a.activePin)||void 0===b?void 0:b.index)===j||(H.target={type:D.ELEMENT,elId:p.id,activePin:{index:j}},o=!0),c=!0;break}}}catch(J){h.e(J)}finally{h.f()}}}catch(J){l.e(J)}finally{l.f()}if(!c){var m,g=Object(x.a)(F.elements);try{for(g.s();!(m=g.n()).done;){var N=m.value,E=N.pos.x-24,I=N.pos.y-24;if(n>E&&n<E+S&&r>I&&r<I+S){a&&a.type===D.ELEMENT&&a.elId===N.id&&!a.activePin||(H.target={type:D.ELEMENT,elId:N.id,activePin:void 0},o=!0),c=!0;break}}}catch(J){g.e(J)}finally{g.f()}}if(!c){var T,w=Object(x.a)(F.connections);try{for(w.s();!(T=w.n()).done;){var P=T.value,_=Object(s.a)(P,2),M=_[0],C=_[1],k=ne(M),L=R(ne(C),k),U=R({x:n,y:r},k),W=Math.atan2(L.y,L.x),A=V(L,-W),G=V(U,-W);if(G.x>=-10&&G.x<=A.x+10&&G.y>-10&&G.y<10){var B=F.connections.indexOf(P);a&&a.type===D.CONNECTION&&a.connectionIndex===B||(H.target={type:D.CONNECTION,connectionIndex:B},o=!0),i=!0;break}}}catch(J){w.e(J)}finally{w.f()}}return c||i||H.target&&(H.target=void 0,o=!0),o})()&&(t=!0);var r=Boolean(Z.target),a=H.target;if($.isMouseDown){if(!r&&!z.source&&a&&a.type===D.ELEMENT&&a.activePin&&(se({elId:a.elId,pinIndex:a.activePin.index}),t=!0),!r&&z.source&&(t=!0),r||z.source||!a||a.type!==D.ELEMENT||(Z.target={elId:a.elId},Y.target={type:D.ELEMENT,elId:a.elId},t=!0),z.source||Z.target||q.isPan||(q.isPan=!0,t=!0),Z.target){var o=te(Z.target.elId);o.pos.x+=e.movementX,o.pos.y+=e.movementY}else z.source||(B.x+=e.movementX,B.y+=e.movementY);t=!0}else q.isPan&&(q.isPan=!1,t=!0);z.source&&(t=!0),t&&n()},onMouseUp:le,onMouseLeave:function(){(function(){var e=!1;return $.isMouseDown&&($.isMouseDown=!1),Z.target&&(Z.target=void 0,e=!0),q.isPan&&(q.isPan=!1,e=!0),z.source&&(z.source=void 0,e=!0),e})()&&n()},onContextMenu:function(e){(H.target||z.source||q.isPan)&&e.preventDefault()}})}),Object(T.jsxs)("div",{className:L.a.panel,children:[Object(T.jsx)("button",{type:"button",className:L.a.button,onClick:function(e){e.preventDefault(),ce(d.POWER)},children:"DD"}),Object(T.jsx)("button",{type:"button",className:L.a.button,onClick:function(e){e.preventDefault(),ce(d.GROUND)},children:"GND"}),Object(T.jsx)("button",{type:"button",className:L.a.button,onClick:function(e){e.preventDefault(),ce(d.NPN)},children:"npn"}),Object(T.jsx)("button",{type:"button",className:L.a.button,onClick:function(e){e.preventDefault(),ce(d.PNP)},children:"pnp"}),Object(T.jsx)("button",{type:"button",className:L.a.button,onClick:function(e){e.preventDefault(),ce(d.INPUT)},children:"input"}),Object(T.jsx)("button",{type:"button",className:L.a.button,onClick:function(e){e.preventDefault(),ce(d.OUTPUT)},children:"output"}),Object(T.jsx)("button",{type:"button",className:L.a.button,onClick:function(e){e.preventDefault(),ce(d.DOT)},children:"dot"}),Object(T.jsx)("span",{className:L.a.divider}),Object(T.jsx)("button",{type:"button",className:L.a.button,onClick:function(e){e.preventDefault(),ee()},children:"Load"}),Object(T.jsx)("button",{type:"button",className:L.a.button,onClick:function(e){e.preventDefault(),localStorage.setItem("sch_game_".concat(a),JSON.stringify({pos:B,elements:F.elements,connections:F.connections,options:P})),console.info("Saved")},children:"Save"}),Object(T.jsx)("button",{type:"button",className:L.a.button,onClick:function(e){e.preventDefault(),K(),n()},children:"Clear"}),Object(T.jsx)("a",{href:"#",children:Object(T.jsx)("button",{type:"button",className:L.a.button,children:"Exit"})})]}),Object(T.jsxs)("div",{className:L.a.info,children:[Object(T.jsx)(w,{elements:F.elements,options:P,onOptionsChange:function(e){return _(Object(v.a)(Object(v.a)({},P),e))}}),Object(T.jsx)(M,{state:F}),Object(T.jsx)("span",{className:L.a.space}),Object(T.jsxs)("div",{className:L.a.debugPanel,children:[Object(T.jsxs)("div",{children:["elements: ",F.elements.length]}),Object(T.jsxs)("div",{children:["connections: ",F.connections.length]}),Object(T.jsxs)("div",{children:["el moving: ",A(Z.target)]}),Object(T.jsxs)("div",{children:["el in focus:"," ",A(Y.target&&Y.target.type===D.ELEMENT)]}),Object(T.jsxs)("div",{children:["conn in focus:"," ",A(Y.target&&Y.target.type===D.CONNECTION)]}),Object(T.jsxs)("div",{children:["el hover:"," ",A(H.target&&H.target.type===D.ELEMENT)]}),Object(T.jsxs)("div",{children:["pin hover:"," ",A(H.target&&H.target.type===D.ELEMENT&&H.target.activePin)]}),Object(T.jsxs)("div",{children:["conn hover:"," ",A(H.target&&H.target.type===D.CONNECTION)]}),Object(T.jsxs)("div",{children:["wiring: ",A(z.source)]}),Object(T.jsxs)("div",{children:["drag: ",A(q.isPan)]}),Object(T.jsxs)("div",{children:["mouse down: ",A($.isMouseDown)]})]})]})]})}!function(e){e[e.NONE=0]="NONE",e[e.LOADING=1]="LOADING",e[e.DONE=2]="DONE"}(C||(C={})),function(e){e[e.ELEMENT=0]="ELEMENT",e[e.CONNECTION=1]="CONNECTION"}(D||(D={}));var B=n(10),J=n.n(B);function X(e){var t,n=(null!==(t=window.location.hash)&&void 0!==t?t:"").trim().replace(/^#/,"");if(n){var r=n.match(/^g(\d+)$/);if(r){var a=r[0];if(e.includes(a))return a}}}function H(){var e=Object(r.useMemo)((function(){var e=localStorage.getItem("sch_games");return e?JSON.parse(e):[]}),[]),t=Object(r.useState)(e),n=Object(s.a)(t,2),a=n[0],o=n[1];l((function(){localStorage.setItem("sch_games",JSON.stringify(a))}),[a]);var c=Object(r.useState)(X(a)),u=Object(s.a)(c,2),d=u[0],f=u[1];return p("hashchange",(function(){var e=X(a);e!==d&&f(e)})),d?Object(T.jsx)(G,{gameId:d},d):Object(T.jsxs)("div",{className:J.a.wrapper,children:[Object(T.jsx)("h1",{className:J.a.title,children:"Schematic"}),Object(T.jsx)("h2",{className:J.a.gamesTitle,children:"Current schemas:"}),Object(T.jsx)("ul",{children:a.length?a.map((function(e){return Object(T.jsxs)("li",{children:[Object(T.jsx)("a",{href:"#".concat(e),children:e})," ",Object(T.jsx)("button",{type:"button",className:J.a.removeButton,onClick:function(t){t.preventDefault(),window.confirm("Are you sure?")&&(o(a.filter((function(t){return t!==e}))),localStorage.removeItem("sch_game_".concat(e)))},children:"x"})]},e)})):Object(T.jsx)("div",{children:"no saved schemas"})}),Object(T.jsx)("button",{type:"button",onClick:function(e){e.preventDefault();var t=function(e){var t=e[e.length-1];if(!t)return"g1";var n=t.match(/^g(\d+)$/);if(!n)throw new Error;return"g".concat(parseInt(n[1],10)+1)}(a);o([].concat(Object(i.a)(a),[t])),window.setTimeout((function(){window.location.assign("#".concat(t))}),0)},children:"New schema"})]})}c.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(H,{})}),document.getElementById("root"))},6:function(e,t,n){e.exports={wrapper:"TruthTable_wrapper__23wrn",options:"TruthTable_options__kzZt2",option:"TruthTable_option__1Hqnt"}}},[[22,1,2]]]);
//# sourceMappingURL=main.56a64be7.chunk.js.map